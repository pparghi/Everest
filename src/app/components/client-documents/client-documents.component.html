<div class="page-container">
    <form class="filter-form" [formGroup]="filterForm">
        <div class="filter-container">
            <div class="filter-unit">
                <label for="Client"><b>Client</b></label> <br>
                <input id="Client" type="text" placeholder="Search Client Name" aria-label="Client" formControlName="Client" class="client-input">
            </div>

            <div class="filter-unit">
                <label for="category"><b>Category</b></label> <br>
                <select id="category" style="width: 120px;" formControlName="category">
                    <option value=""></option>
                    @for (category of categoryList; track category.DocCatKey) {
                    <option value={{category.DocCatKey}}>{{category.Descr}}</option>
                    }
                </select>
            </div>
            
            <div class="filter-unit">
                <label for="searchFileName"><b>File Name Contains</b></label> <br>
                <input type="text" id="searchFileName" class="filter-input" style="width: 200px;"
                    formControlName="searchFileName" (keydown.enter)="$event.preventDefault()">
            </div>
            
            <!-- <div class="filter-unit">
                <label for="RowsNumber"><b>Rows</b></label> <br>
                <input type="text" id="RowsNumber" class="filter-input" style="width: 100px;"
                    formControlName="RowsNumber" (keydown.enter)="$event.preventDefault()">
            </div> -->

            <div class="filter-unit">
                <button class="search-button" (click)="onSubmitFilters()">
                    <mat-icon fontIcon="search" class="button-icon"></mat-icon>Search
                </button>
            </div>
        </div>
    </form>
    
    <!-- mat table -->
    <div class="main-table-container">
        <table mat-table [dataSource]="clientDocumentListSource" class="mat-elevation-z8" class="mat-table">

            <ng-container matColumnDef="FileName">
                <th mat-header-cell *matHeaderCellDef> File Name </th>
                <td mat-cell *matCellDef="let element"> {{element.FileName}} </td>
            </ng-container>

            <ng-container matColumnDef="Descr">
                <th mat-header-cell *matHeaderCellDef> Description </th>
                <td mat-cell *matCellDef="let element" > {{element.Descr}} </td>
            </ng-container>
            
            <ng-container matColumnDef="DropDate">
                <th mat-header-cell *matHeaderCellDef class="dropDate-column"> Drop Date </th>
                <td mat-cell *matCellDef="let element" class="dropDate-column"> {{element.DropDate | date:'yyyy-MM-dd'}} </td>
            </ng-container>

            <tr mat-header-row *matHeaderRowDef="clientDocumentColumns"></tr>
            <tr mat-row *matRowDef="let row; columns: clientDocumentColumns;" class="element-row"></tr>
        </table>
        
        <div class="spinner-container" *ngIf="isLoading;">
            <mat-spinner class="custom-spinner"></mat-spinner>
        </div>
    </div>
    <mat-paginator [pageSizeOptions]="[10, 25, 50, 100]" [pageSize]="pageSize"
        showFirstLastButtons
        aria-label="Select page of periodic elements">
    </mat-paginator>
</div>